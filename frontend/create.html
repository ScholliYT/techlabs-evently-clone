<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <h1>Create your own event!</h1>
        <form action="/event" method="post" id="create-form">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required placeholder="ExampleEvent">
            <label for="objektart">Category:</label>
            <input list="objektart" id="objektart" name="objektart" placeholder="ExampleCategory">
            <datalist id="objektart">
                <option value="Museums">
                <option value="Swimming Pools">
              </datalist>
            <label for="address">Address:</label>
            <input type="text" id="address" name="address" required placeholder="Examplestreet 1, 12345 ExampleCity">
            <label for="image">Image:</label>
            <input type="url" id="image" name="image" placeholder="https://example.com/example_img.jpg"> 
            <label for="link">Link:</label>
            <input type="url" id="link" name="link" required placeholder="https://example.com">
            <button type="submit">Create</button>
        </form>
        <script>
            const form = document.getElementById("create-form");
            form.addEventListener("submit", (event) => {
                event.preventDefault();
                const formData = new FormData(form);
                const data = Object.fromEntries(formData.entries());
                const options = {
                    method: "POST",
                    body: JSON.stringify(data),
                    headers: {
                        "Content-Type": "application/json",
                    },
                };
                fetch("/event/", options)
                    .then((response) => {
                        console.log(response);
                        return response.json();
                    })
                    .then((data) => {
                        console.log(data);
                    })
                    .catch((error) => {
                        console.error(error);
                    });
            });
        </script> 
    </body> 
</html>