<!DOCTYPE html>
<html lang="en">
    
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="styles.css">
      <title>Evently</title>
      <meta name="description" content="Connect yourself with others and go to events together!">
    </head>
    
    <body>
      
      <header>
        
        <nav>
          <h1><a href="index.html" id="logo">Evently</a></h1>
          <form action="" method="post">
            <input type="search" id="searchbar" placeholder="Not available yet">
          </form>
        </nav>
        
        <div class="video-container">
          <video src="./assets/videos/landingpage_vid.mp4" autoplay loop muted loading="lazy"></video>
          <h1 class="video-heading">Choose your next activity and get together!</h1>
          <ul class="video-links">
            <li><a href="#museums">Museums</a></li>
            <li><a href="#swimming-pools">Swimming Pools</a></li>
            <li><a href="#more">More</a></li>
          </ul>
          <h2><a href="create.html" class="button">... or create your own event</a></h2>
        </div>
      </header>
      
      <main>    
        <section id="museums">
          <h2>Museums</h2>
          <div class="card-grid">
            <div class="card">
              <div class="card-image">
                <img src="https://www.industriedenkmal-stiftung.de/uploads/pics/Kokerei_Hansa-Ansicht_Hannappel-1.jpg" alt="Kokerei Hansa">
              </div>
              <div class="card-header">
                <h3>Kokerei Hansa</h3>
              </div>
              <div class="card-body">
                <p>Address: Emscherallee 11, 76924 Dortmund</p>
              </div>
              <div class="card-footer">
                <a href="https://www.industriedenkmal-stiftung.de/denkmale/kokerei-hansa" target ="_blank"><button>More Info</button></a>
              </div>
            </div>
            <div class="card">
              <div class="card-image">
                <img src="https://basis-datensysteme.de/museumluedo/bild2.jpg" alt="Heimatmuseum Lütgendortmund">
              </div>
              <div class="card-header">
                <h3>Heimatmuseum Lütgendortmund e.V.</h3>
              </div>
              <div class="card-body">
                <p>Address: Dellwiger Straße 130, 70785 Dortmund</p>
              </div>
              <div class="card-footer">
                <a href="http://www.museum-luedo.de" target ="_blank"><button>More Info</button></a>
              </div>
            </div>
          </div>
        </section>
        <section id="swimming-pools">
          <h2>Swimming pools</h2>
          <div class="card-grid">
            <div class="card">
              <div class="card-image">
                <img src="https://www.dortmund.de/media/p/sport/hallenbaeder/hallenbder/fotostrecken/impressionen_des_suedbads/Suedbad_4.jpeg" alt="Südbad">
              </div>
              <div class="card-header">
                <h3>Südbad - Innenstadt</h3>
              </div>
              <div class="card-body">
                <p>Address: Ruhrallee 30, 72636 Dortmund</p>
              </div>
              <div class="card-footer">
                <a href="http://www.dortmund.de/de/leben_in_dortmund/sport/schwimmbaeder/suedbad/index.html" target ="_blank"><button>More Info</button></a>
              </div>
            </div>
            <div class="card">
              <div class="card-image">
                <img src="https://lh3.googleusercontent.com/p/AF1QipN_TsjKzEKQ3Wzv92DfQ14MXPtN4y-7mJIOA4sR=s680-w680-h510" alt="Solebad Revierpark Wischlingen">
              </div>
              <div class="card-header">
                <h3>Solebad Revierpark Wischlingen</h3>
              </div>
              <div class="card-body">
                <p>Address: Höfkerstraße 12, 76197 Dortmund</p>
              </div>
              <div class="card-footer">
                <a href="https://www.wischlingen.de/bad-sauna/preise-und-zeiten/" target ="_blank"><button>More Info</button></a>
              </div>
            </div>
          </div>
        </section>
      </main>
          <script type="text/javascript">
            const api = "http://127.0.0.1:8000/event/?skip=0&limit=100"  // either 3000 for nodejs or 8000 for fastapi
    
            var myHeaders = new Headers();
            myHeaders.append("accept", "application/json");
    
            var requestOptions = {
                method: 'GET',
                headers: myHeaders,
                redirect: 'follow'
            };
    
            function get_data() {
              fetch('/event/')
              .then(response => response.json())
              .then(data => {
                data.forEach(function(item) {
                if (item.objektart === "MuseumSonstiges") {
                    let card = document.createElement('div');
                    card.classList.add('card');

                    /*let cardImage = document.createElement('div');
                    cardImage.classList.add('card-image');
                    let img = document.createElement('img');
                    img.src = item.image_url;
                    cardImage.appendChild(img);
                    card.appendChild(cardImage);*/

                    let cardHeader = document.createElement('div');
                    cardHeader.classList.add('card-header');
                    let h3 = document.createElement('h3');
                    h3.textContent = item.name;
                    cardHeader.appendChild(h3);
                    card.appendChild(cardHeader);

                    let cardBody = document.createElement('div');
                    cardBody.classList.add('card-body');
                    let p = document.createElement('p');
                    p.textContent = "Address: " + item.address;
                    cardBody.appendChild(p);
                    card.appendChild(cardBody);

                    let cardFooter = document.createElement('div');
                    cardFooter.classList.add('card-footer');
                    let a = document.createElement('a');
                    a.href = item.link;
                    let button = document.createElement('button');
                    button.textContent = "More Info";
                    a.appendChild(button);
                    cardFooter.appendChild(a);
                    card.appendChild(cardFooter);
                    console.log(document.querySelector('#museum .card-grid'));
                    document.querySelector('#museums .card-grid').appendChild(card);
                }
            });
              });
            }
            get_data();
            /* function get_data() {
                // REST API REQUEST
                fetch(api, requestOptions)
                    .then(response => response.json())
                    .then(result => {
                    console.log(result);
                    const resultElement = document.getElementById("swimming-pools");
                    result.forEach(obj => {
                        const img = document.createElement("img");
                        img.src = obj.image_url;  
                        const h4 = document.createElement("h4");
                        h4.textContent = obj.name;
                        const p = document.createElement("p");
                        p.textContent = obj.address;
                        const a = document.createElement("a");
                        a.textContent = "More Info";
                        a.href = obj.link;
                        resultElement.appendChild(img);
                        resultElement.appendChild(h4);
                        resultElement.appendChild(p);
                        resultElement.appendChild(a);
                    });
                    })
                    .catch(error => console.log('error', error));
                }
            get_data(); */
        </script>
    </body>
</html>